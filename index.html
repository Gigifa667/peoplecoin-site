<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>PeopleCoin.com ‚Äî Le jeton de l'action √©cologique</title>
    <link rel="icon" href="https://raw.githubusercontent.com/Gigifa667/PeopleCoin/main/BCO.a8baecee-add4-44df-93a8-2fee0c8169be.png" type="image/png">
    <!-- Police Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ic√¥nes Lucide pour l'UX -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Configuration esth√©tique */
        body {
            font-family: 'Inter', sans-serif;
        }
        .logo-pulse {
            animation: pulse-grow 2s infinite;
        }
        @keyframes pulse-grow {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.95; }
        }
        /* Assure que l'adresse ne d√©borde pas */
        .address-box {
            word-break: break-all;
            user-select: all;
        }
        .view-content {
            transition: opacity 0.3s ease-in-out;
        }
        .hidden {
            display: none;
        }
        .tab-button.active {
            background-color: #00b4d8 !important;
            color: white !important;
        }
        /* Personnalisation du bouton de connexion Solana */
        .wallet-adapter-button {
            background: linear-gradient(135deg, #00c896, #00b4d8) !important;
            border: none !important;
            padding: 0.75rem 1.5rem !important;
            border-radius: 9999px !important;
            font-weight: 700 !important;
            box-shadow: 0 4px 12px rgba(0, 180, 216, 0.3) !important;
            transition: all 0.3s ease !important;
        }
        .wallet-adapter-button:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 16px rgba(0, 180, 216, 0.4) !important;
        }
        .wallet-adapter-button-trigger {
            background: linear-gradient(135deg, #9945FF, #00c896) !important;
        }
        /* Loader personnalis√© */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'pct-green': '#00c896',
                        'pct-blue': '#00b4d8',
                        'solana': '#9945FF',
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen p-4 sm:p-8">

    <div class="max-w-6xl mx-auto bg-white shadow-2xl rounded-xl p-6 sm:p-10">

        <!-- Header et Titre Principal -->
        <header class="text-center mb-8">
            <h1 class="flex items-center justify-center gap-3 text-3xl sm:text-4xl font-extrabold text-gray-900 leading-tight mb-2">
                <img class="logo-pulse h-10 w-10 sm:h-12 sm:w-12 rounded-lg" 
                     src="https://raw.githubusercontent.com/Gigifa667/PeopleCoin/main/BCO.a8baecee-add4-44df-93a8-2fee0c8169be.png" 
                     alt="Logo Peoplecoin" />
                Peoplecoin (PCT)
            </h1>
            <p class="text-lg sm:text-xl font-medium text-pct-green">
                Le jeton qui r√©compense l'action √©cologique.
            </p>
        </header>
        
        <!-- Navigation/Onglets -->
        <nav class="mb-8 border-b border-gray-200">
            <div class="flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4">
                <button onclick="showView('home')" id="tab-home"
                    class="tab-button px-6 py-2 rounded-full font-bold transition-all duration-200 text-white bg-pct-blue hover:bg-pct-green shadow-lg active">
                    Accueil & Infos
                </button>
                <button onclick="showView('events')" id="tab-events"
                    class="tab-button px-6 py-2 rounded-full font-bold transition-all duration-200 text-gray-700 bg-gray-100 hover:bg-gray-200">
                    √âv√©nements PCT
                </button>
            </div>
        </nav>

        <!-- Vue d'Accueil (Contenu Principal) -->
        <section id="view-home" class="view-content space-y-8">
            <!-- Bouton d'Action -->
            <div class="text-center bg-solana/10 p-4 rounded-xl shadow-inner border border-solana/20">
                <a class="inline-flex items-center px-8 sm:px-10 py-3 sm:py-4 text-lg sm:text-xl font-extrabold text-white rounded-full shadow-2xl transition duration-300 transform hover:scale-105 
                          bg-gradient-to-r from-pct-green to-pct-blue hover:from-pct-blue hover:to-pct-green" 
                    href="https://jup.ag/swap/SOL-PCT" target="_blank">
                    ACHAT/VENTE
                    <i data-lucide="external-link" class="w-5 h-5 ml-2"></i>
                </a>
            </div>

            <!-- Section Pr√©sentation et Mission -->
            <div id="presentation" class="p-6 bg-green-50 rounded-xl shadow-inner">
                <h2 class="text-2xl font-bold mb-4 text-pct-green border-b pb-2 border-pct-green/50 flex items-center">
                    <i data-lucide="star" class="w-6 h-6 mr-2"></i> Notre Mission : Proof-of-Cleanup
                </h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Bienvenue sur <strong>PeopleCoin.com</strong>, le site officiel de <strong>Peoplecoin (PCT)</strong>. Ce jeton SPL sur Solana est le moteur d'un mouvement global qui lie la finance d√©centralis√©e √† la responsabilit√© environnementale. Notre mission est de r√©compenser concr√®tement et imm√©diatement les citoyens qui contribuent activement √† l'am√©lioration de notre plan√®te.
                </p>
                <blockquote class="italic text-base sm:text-lg text-gray-600 border-l-4 border-pct-blue pl-4 py-2 bg-white/50 rounded-r-md">
                    ¬´ Gagnez du PCT pour chaque d√©chet ramass√©. Transformez l'effort √©cologique en valeur num√©rique. ¬ª
                </blockquote>
            </div>

            <!-- Comment Gagner des PCT -->
            <div id="gagner-pct">
                <h2 class="text-2xl font-bold mb-4 text-gray-900 border-b pb-2 border-gray-200 flex items-center">
                    <i data-lucide="wallet" class="w-6 h-6 mr-2"></i> Comment Gagner des Peoplecoin (PCT) ?
                </h2>
                <p class="text-gray-600 mb-6">
                    Notre syst√®me <strong>Proof-of-Cleanup</strong> est simple et transparent. Il suffit de prouver votre action via la communaut√© :
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- √âtape 1 -->
                    <div class="bg-white p-5 rounded-lg shadow-md border-t-4 border-red-500">
                        <p class="text-3xl font-extrabold text-red-500 mb-2">1.</p>
                        <h3 class="font-semibold text-lg mb-2">Photo AVANT</h3>
                        <p class="text-sm text-gray-600">Prenez une photo g√©olocalis√©e de la zone pollu√©e que vous allez nettoyer.</p>
                    </div>
                    <!-- √âtape 2 -->
                    <div class="bg-white p-5 rounded-lg shadow-md border-t-4 border-yellow-500">
                        <p class="text-3xl font-extrabold text-yellow-500 mb-2">2.</p>
                        <h3 class="font-semibold text-lg mb-2">L'Action</h3>
                        <p class="text-sm text-gray-600">Ramassez les d√©chets et mettez-les dans des sacs poubelles appropri√©s.</p>
                    </div>
                    <!-- √âtape 3 -->
                    <div class="bg-white p-5 rounded-lg shadow-md border-t-4 border-pct-green">
                        <p class="text-3xl font-extrabold text-pct-green mb-2">3.</p>
                        <h3 class="font-semibold text-lg mb-2">Photo APR√àS & R√©compense</h3>
                        <p class="text-sm text-gray-600">Prenez une photo de la zone propre et des sacs. Soumettez le tout √† la communaut√© pour recevoir vos PCT.</p>
                    </div>
                </div>
            </div>

            <!-- Informations Techniques -->
            <div id="tech-info">
                <h2 class="text-2xl font-bold mb-4 text-gray-900 border-b pb-2 border-gray-200 flex items-center">
                    <i data-lucide="search" class="w-6 h-6 mr-2"></i> Informations Techniques
                </h2>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <table class="w-full text-left text-sm table-auto">
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-gray-200">
                                <th class="py-2 px-3 font-semibold w-1/4">Nom</th>
                                <td class="py-2 px-3">Peoplecoin</td>
                            </tr>
                            <tr class="hover:bg-gray-200">
                                <th class="py-2 px-3 font-semibold">Symbole</th>
                                <td class="py-2 px-3">PCT</td>
                            </tr>
                            <tr class="hover:bg-gray-200">
                                <th class="py-2 px-3 font-semibold">R√©seau</th>
                                <td class="py-2 px-3">Solana (SPL Token)</td>
                            </tr>
                            <tr class="hover:bg-gray-200">
                                <th class="py-2 px-3 font-semibold">Adresse du Mint (Contrat)</th>
                                <td class="py-2 px-3 font-mono address-box text-solana text-xs sm:text-sm">
                                    <code>5bAkoTnsvncze65z3QxHbLbX8fvU3YMCwmNDRaYau4BN</code>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-200">
                                <th class="py-2 px-3 font-semibold">Royalties</th>
                                <td class="py-2 px-3">5‚ÄØ%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Section Roadmap -->
            <div id="roadmap">
                <h2 class="text-2xl font-bold mb-4 text-gray-900 border-b pb-2 border-gray-200 flex items-center">
                    <i data-lucide="wrench" class="w-6 h-6 mr-2"></i> Feuille de Route (Roadmap)
                </h2>
                <div class="space-y-4">
                    <!-- Q4 2025 -->
                    <div class="p-4 bg-gray-100 rounded-lg border-l-4 border-pct-blue">
                        <span class="font-semibold text-sm text-gray-500">Q4 2025</span>
                        <p class="font-medium">D√©ploiement du token SPL, enrichissement IPFS, visibilit√© sur Phantom & Solscan.</p>
                    </div>
                    <!-- Q1 2026 -->
                    <div class="p-4 bg-gray-100 rounded-lg border-l-4 border-pct-green">
                        <span class="font-semibold text-sm text-gray-500">Q1 2026</span>
                        <p class="font-medium">Lancement du site officiel et de la <strong>Communaut√© Proof-of-Cleanup</strong> (Discord/Telegram).</p>
                    </div>
                    <!-- Q2 2026 -->
                    <div class="p-4 bg-gray-100 rounded-lg border-l-4 border-pct-blue">
                        <p class="font-medium">Impl√©mentation du syst√®me de <strong>validation PCT</strong> par les mod√©rateurs communautaires et premier Airdrop de r√©compense.</p>
                    </div>
                    <!-- Q3 2026 -->
                    <div class="p-4 bg-gray-100 rounded-lg border-l-4 border-pct-green">
                        <span class="font-semibold text-sm text-gray-500">Q3 2026</span>
                        <p class="font-medium">D√©veloppement de l'application mobile d√©di√©e (ou Bot) pour faciliter la soumission de preuves et la g√©olocalisation.</p>
                    </div>
                    <!-- Q4 2026 - Nouveau point CEX -->
                    <div class="p-4 bg-gray-100 rounded-lg border-l-4 border-solana">
                        <span class="font-semibold text-sm text-gray-500">Q4 2026</span>
                        <p class="font-medium">Objectif : Premier listing sur une plateforme d'√©change centralis√©e (CEX) pour augmenter l'accessibilit√© globale du PCT.</p>
                    </div>
                </div>
            </div>

            <!-- Section Rejoindre -->
            <div id="rejoindre" class="p-6 bg-blue-50 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-pct-blue border-b pb-2 border-pct-blue/50 flex items-center">
                    <i data-lucide="handshake" class="w-6 h-6 mr-2"></i> Rejoindre le Mouvement Peoplecoin
                </h2>
                <p class="text-gray-700 mb-4">
                    Votre participation est essentielle. Chaque membre contribue √† la fois √† l'√©cologie et √† la croissance du projet.
                </p>
                <ul class="space-y-2 list-disc list-inside text-gray-600">
                    <li class="flex items-center"><span class="text-pct-green text-xl mr-2">üå±</span><span class="font-semibold">Agissez :</span> Commencez √† planifier votre premier nettoyage pour gagner des PCT.</li>
                    <li class="flex items-center"><span class="text-pct-green text-xl mr-2">üí¨</span><span class="font-semibold">Rejoignez :</span> Rendez-vous sur notre Discord/Telegram (Lien √† venir) pour l'int√©gration Proof-of-Cleanup.</li>
                    <li class="flex items-center"><span class="text-pct-green text-xl mr-2">üì¢</span><span class="font-semibold">Partagez :</span> Faites conna√Ætre notre mission sur les r√©seaux sociaux.</li>
                </ul>
            </div>
        </section>

        <!-- Vue des √âv√©nements (Interactive) -->
        <section id="view-events" class="view-content space-y-10 hidden">
            <h2 class="text-3xl font-bold text-center text-solana mb-6 flex items-center justify-center">
                <i data-lucide="calendar-check" class="w-8 h-8 mr-3"></i> Planifier et Participer aux √âv√©nements
            </h2>

            <!-- Zone de connexion au portefeuille Solana -->
            <div id="wallet-connection" class="text-center mb-6">
                <button id="solana-connect-btn" class="wallet-adapter-button px-6 py-3 rounded-full font-bold text-white shadow-lg flex items-center mx-auto">
                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" fill="currentColor"/>
                    </svg>
                    Connecter Solana
                </button>
            </div>

            <!-- L'√©tat d'authentification -->
            <div id="auth-status-container" class="text-center p-3 rounded-lg bg-gray-100 border border-gray-300">
                <p id="auth-status" class="text-gray-500 font-medium text-sm">Connectez votre portefeuille Solana pour cr√©er ou rejoindre des √©v√©nements.</p>
            </div>


            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- COLONNE 1 & 2: Cr√©er un √âv√©nement (2/3 de la largeur sur grand √©cran) -->
                <div class="lg:col-span-2 space-y-6">
                    <div class="p-6 bg-pct-blue/10 rounded-xl shadow-lg border border-pct-blue/30">
                        <h3 class="text-xl font-bold mb-4 text-pct-blue flex items-center">
                            <i data-lucide="plus-square" class="w-5 h-5 mr-2"></i> Cr√©er un nouvel √âv√©nement de Nettoyage
                        </h3>
                        <form id="event-creation-form" onsubmit="saveEvent(event)" class="space-y-4">
                            <div>
                                <label for="event-name" class="block text-sm font-medium text-gray-700">Nom / Titre de l'√©v√©nement</label>
                                <input type="text" id="event-name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 border focus:border-pct-green focus:ring-pct-green" placeholder="Ex: Nettoyage de la plage de l'Estacade">
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="event-date" class="block text-sm font-medium text-gray-700">Jour</label>
                                    <input type="date" id="event-date" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 border focus:border-pct-green focus:ring-pct-green">
                                </div>
                                <div>
                                    <label for="event-time" class="block text-sm font-medium text-gray-700">Heure (Locale)</label>
                                    <input type="time" id="event-time" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 border focus:border-pct-green focus:ring-pct-green">
                                </div>
                            </div>
                            <div>
                                <label for="event-location" class="block text-sm font-medium text-gray-700">Lieu de l'√©v√©nement (Adresse / Point de rencontre)</label>
                                <input type="text" id="event-location" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 border focus:border-pct-green focus:ring-pct-green" placeholder="Ex: Devant le parc central, 12 rue de la Paix">
                            </div>
                            <div>
                                <label for="event-description" class="block text-sm font-medium text-gray-700">Description (Optionnelle)</label>
                                <textarea id="event-description" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 border focus:border-pct-green focus:ring-pct-green" placeholder="D√©tails sur l'√©quipement n√©cessaire ou les objectifs."></textarea>
                            </div>
                            <button type="submit" id="create-event-btn" disabled class="w-full inline-flex justify-center items-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-pct-green hover:bg-pct-blue focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pct-green transition duration-150 ease-in-out opacity-50 cursor-not-allowed">
                                <i data-lucide="send" class="w-5 h-5 mr-2"></i> Cr√©er l'√âv√©nement
                            </button>
                        </form>
                    </div>
                </div>

                <!-- COLONNE 3: Liste des √âv√©nements (1/3 de la largeur sur grand √©cran) -->
                <div class="lg:col-span-1 space-y-6">
                    <div class="p-6 bg-gray-100 rounded-xl shadow-lg border border-gray-300">
                        <h3 class="text-xl font-bold mb-4 text-gray-900 flex items-center">
                            <i data-lucide="list-checks" class="w-5 h-5 mr-2"></i> √âv√©nements Planifi√©s
                        </h3>
                        <div id="events-list" class="space-y-4">
                            <!-- Mock events for demo -->
                            <div class="border-l-4 border-pct-green pl-3 py-2">
                                <h4 class="font-semibold text-gray-800">Nettoyage parc central</h4>
                                <p class="text-xs text-gray-600">15 nov 2025 ‚Ä¢ 10:00</p>
                                <button onclick="openRegistrationModal('Nettoyage parc central', 'event1')" class="mt-1 text-xs px-2 py-1 bg-pct-green text-white rounded hover:bg-pct-blue transition">S'inscrire</button>
                            </div>
                            <div class="border-l-4 border-pct-blue pl-3 py-2">
                                <h4 class="font-semibold text-gray-800">Ramassage plage nord</h4>
                                <p class="text-xs text-gray-600">22 nov 2025 ‚Ä¢ 09:00</p>
                                <button onclick="openRegistrationModal('Ramassage plage nord', 'event2')" class="mt-1 text-xs px-2 py-1 bg-pct-green text-white rounded hover:bg-pct-blue transition">S'inscrire</button>
                            </div>
                            <div class="border-l-4 border-solana pl-3 py-2">
                                <h4 class="font-semibold text-gray-800">Journ√©e nationale</h4>
                                <p class="text-xs text-gray-600">30 nov 2025 ‚Ä¢ 14:00</p>
                                <button onclick="openRegistrationModal('Journ√©e nationale', 'event3')" class="mt-1 text-xs px-2 py-1 bg-pct-green text-white rounded hover:bg-pct-blue transition">S'inscrire</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal/Popup pour l'enregistrement Solana -->
            <div id="registration-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden flex items-center justify-center p-4 z-50">
                <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-md space-y-4">
                    <h4 class="text-xl font-bold text-solana flex items-center">
                        <i data-lucide="scan-line" class="w-6 h-6 mr-2"></i> Inscription √† l'√âv√©nement
                    </h4>
                    <p class="text-gray-600">Confirmez votre participation √† l'√©v√©nement avec votre portefeuille Solana connect√©.</p>
                    
                    <div id="wallet-info" class="p-3 bg-gray-50 rounded-lg">
                        <p class="text-sm font-medium text-gray-700">Portefeuille connect√© :</p>
                        <p id="connected-wallet-address" class="font-mono text-xs text-gray-600 break-all mt-1">Aucun portefeuille connect√©</p>
                    </div>

                    <div id="registration-actions" class="flex justify-end gap-2">
                        <button onclick="closeModal()" class="px-4 py-2 text-sm font-medium rounded-md text-gray-700 bg-gray-200 hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button onclick="submitRegistration()" id="submit-registration-btn" disabled class="px-4 py-2 text-sm font-medium rounded-md text-white bg-solana hover:bg-solana/80 transition opacity-50 cursor-not-allowed">
                            <span id="registration-btn-text">Confirmer l'Inscription</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Message de notification/erreur -->
            <div id="message-box" class="fixed bottom-4 right-4 p-3 rounded-lg shadow-xl text-white hidden transition-opacity duration-300"></div>

            <!-- Loader pour les transactions -->
            <div id="transaction-loader" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
                <div class="bg-white rounded-xl shadow-2xl p-8 text-center max-w-md">
                    <div class="loading-spinner mx-auto mb-4"></div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">En cours de traitement...</h3>
                    <p id="transaction-message" class="text-gray-600">Veuillez confirmer la transaction dans votre portefeuille.</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-gray-200 pt-8 mt-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                        <img src="https://raw.githubusercontent.com/Gigifa667/PeopleCoin/main/BCO.a8baecee-add4-44df-93a8-2fee0c8169be.png" 
                             alt="PeopleCoin" class="h-6 w-6 mr-2 rounded">
                        PeopleCoin
                    </h3>
                    <p class="text-gray-600">
                        Un projet communautaire d√©di√© √† la protection de notre plan√®te √† travers la blockchain.
                    </p>
                </div>
                <div>
                    <h4 class="font-bold text-gray-900 mb-4">Liens Utiles</h4>
                    <ul class="space-y-2 text-gray-600">
                        <li><a href="https://solscan.io/token/5bAkoTnsvncze65z3QxHbLbX8fvU3YMCwmNDRaYau4BN" target="_blank" class="hover:text-pct-green transition">Explorer sur Solscan</a></li>
                        <li><a href="https://jup.ag/swap/SOL-PCT" target="_blank" class="hover:text-pct-green transition">Acheter sur Jupiter</a></li>
                        <li><a href="#" class="hover:text-pct-green transition">Documentation Technique</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-gray-900 mb-4">R√©seaux Sociaux</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-500 hover:text-pct-blue transition">
                            <i data-lucide="twitter" class="w-6 h-6"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-pct-green transition">
                            <i data-lucide="instagram" class="w-6 h-6"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-gray-800 transition">
                            <i data-lucide="discord" class="w-6 h-6"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-blue-500 transition">
                            <i data-lucide="youtube" class="w-6 h-6"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-200 text-center text-gray-500 text-sm">
                <p>&copy; 2025 PeopleCoin. Tous droits r√©serv√©s. Ce projet est open-source et communautaire.</p>
                <p class="mt-2">Ce site est √† but informatif. Les tokens PCT ne doivent pas √™tre consid√©r√©s comme un conseil financier.</p>
            </div>
        </footer>
    </div>

    <script>
        // Variables globales pour Solana
        let publicKey = null;
        let currentEventId = null;

        // Initialiser les ic√¥nes Lucide
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            
            // D√©finir la date par d√©faut pour les √©v√©nements (aujourd'hui + 7 jours)
            const today = new Date();
            const nextWeek = new Date(today);
            nextWeek.setDate(today.getDate() + 7);
            
            const dateInput = document.getElementById('event-date');
            const formattedDate = nextWeek.toISOString().split('T')[0];
            dateInput.value = formattedDate;
            
            // Mettre √† jour l'√©tat d'authentification
            updateAuthStatus();
            
            // Ajouter l'√©v√©nement de clic pour le bouton de connexion
            document.getElementById('solana-connect-btn').addEventListener('click', connectWallet);
        });

        // Fonction de connexion au portefeuille
        async function connectWallet() {
            try {
                // V√©rifier si Phantom est install√©
                if (typeof window.solana !== 'undefined') {
                    const provider = window.solana;
                    if (provider.isPhantom) {
                        try {
                            const resp = await provider.connect();
                            publicKey = resp.publicKey;
                            showMessage('Portefeuille Phantom connect√© avec succ√®s !', 'bg-green-600');
                            updateAuthStatus();
                            return;
                        } catch (err) {
                            console.error('Erreur lors de la connexion √† Phantom:', err);
                        }
                    }
                }
                
                // Si Phantom n'est pas disponible, proposer d'autres options
                showMessage('Veuillez installer Phantom ou Solflare pour vous connecter.', 'bg-yellow-600');
                
                // Dans un environnement de production, on utiliserait le WalletModal complet
                // Pour cette d√©mo, on simule une connexion
                setTimeout(() => {
                    simulateWalletConnection();
                }, 2000);
                
            } catch (error) {
                console.error('Erreur de connexion:', error);
                showMessage('Erreur lors de la connexion au portefeuille.', 'bg-red-600');
            }
        }

        // Simuler une connexion pour la d√©mo
        function simulateWalletConnection() {
            // G√©n√©rer une adresse Solana simul√©e
            publicKey = {
                toBase58: () => '5DAs3KjG9mH8qRtZnX7vYpQwN2sL1fJhT6bM9cP3kRy'
            };
            
            showMessage('Portefeuille connect√© avec succ√®s !', 'bg-green-600');
            updateAuthStatus();
        }

        // Mettre √† jour l'√©tat d'authentification
        function updateAuthStatus() {
            const authStatus = document.getElementById('auth-status');
            const createEventBtn = document.getElementById('create-event-btn');
            
            if (publicKey) {
                const address = publicKey.toBase58();
                authStatus.innerHTML = `
                    <span class="flex items-center justify-center">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-500 text-white text-xs mr-2">‚úì</span>
                        Connect√© : <span class="font-mono ml-1">${address.substring(0, 4)}...${address.substring(address.length - 4)}</span>
                    </span>
                `;
                authStatus.classList.remove('text-gray-500');
                authStatus.classList.add('text-green-600');
                
                // Activer le bouton de cr√©ation d'√©v√©nement
                createEventBtn.disabled = false;
                createEventBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                authStatus.textContent = 'Connectez votre portefeuille Solana pour cr√©er ou rejoindre des √©v√©nements.';
                authStatus.classList.remove('text-green-600');
                authStatus.classList.add('text-gray-500');
                
                // D√©sactiver le bouton de cr√©ation d'√©v√©nement
                createEventBtn.disabled = true;
                createEventBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        // Fonction pour changer de vue (onglets)
        function showView(viewId) {
            // Cacher toutes les vues
            document.querySelectorAll('.view-content').forEach(view => {
                view.classList.add('hidden');
            });
            
            // D√©sactiver tous les boutons d'onglet
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('text-gray-700', 'bg-gray-100');
                tab.classList.remove('text-white', 'bg-pct-blue');
            });
            
            // Afficher la vue s√©lectionn√©e
            const targetView = document.getElementById('view-' + viewId);
            if (targetView) {
                targetView.classList.remove('hidden');
            }
            
            // Activer le bouton d'onglet correspondant
            const activeTab = document.getElementById('tab-' + viewId);
            if (activeTab) {
                activeTab.classList.add('active');
                activeTab.classList.remove('text-gray-700', 'bg-gray-100');
                activeTab.classList.add('text-white', 'bg-pct-blue');
            }
        }

        // Fonction pour sauvegarder un √©v√©nement (d√©mo)
        function saveEvent(e) {
            e.preventDefault();
            
            if (!publicKey) {
                showMessage('Veuillez d\'abord connecter votre portefeuille Solana.', 'bg-yellow-600');
                return;
            }
            
            const eventName = document.getElementById('event-name').value;
            const eventDate = document.getElementById('event-date').value;
            const eventTime = document.getElementById('event-time').value;
            const eventLocation = document.getElementById('event-location').value;
            
            // Simuler une transaction Solana
            showTransactionLoader('Cr√©ation de l\'√©v√©nement en cours...');
            
            // Simuler un d√©lai de transaction
            setTimeout(() => {
                hideTransactionLoader();
                showMessage(`√âv√©nement "${eventName}" cr√©√© avec succ√®s ! Vous recevrez une notification quand il sera approuv√© par la communaut√©.`, 'bg-green-600');
                
                // R√©initialiser le formulaire
                document.getElementById('event-creation-form').reset();
                
                // Mettre √† jour la liste des √©v√©nements avec un nouvel √©v√©nement
                const eventsList = document.getElementById('events-list');
                const eventId = 'event' + (eventsList.children.length + 1);
                const newEventHTML = `
                    <div class="border-l-4 border-pct-green pl-3 py-2">
                        <h4 class="font-semibold text-gray-800">${eventName}</h4>
                        <p class="text-xs text-gray-600">${formatDate(eventDate)} ‚Ä¢ ${eventTime}</p>
                        <button onclick="openRegistrationModal('${eventName}', '${eventId}')" class="mt-1 text-xs px-2 py-1 bg-pct-green text-white rounded hover:bg-pct-blue transition">S'inscrire</button>
                    </div>
                `;
                
                // Ajouter en haut de la liste
                eventsList.innerHTML = newEventHTML + eventsList.innerHTML;
            }, 2000);
        }

        // Fonction pour formater la date
        function formatDate(dateString) {
            const options = { day: 'numeric', month: 'short' };
            return new Date(dateString).toLocaleDateString('fr-FR', options);
        }

        // Fonction pour ouvrir le modal d'inscription
        function openRegistrationModal(eventName, eventId) {
            if (!publicKey) {
                showMessage('Veuillez d\'abord connecter votre portefeuille Solana.', 'bg-yellow-600');
                return;
            }
            
            currentEventId = eventId;
            document.getElementById('registration-modal').classList.remove('hidden');
            
            // Mettre √† jour l'adresse du portefeuille dans le modal
            const addressElement = document.getElementById('connected-wallet-address');
            const address = publicKey.toBase58();
            addressElement.textContent = `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;
            
            // Activer le bouton d'inscription
            const submitBtn = document.getElementById('submit-registration-btn');
            submitBtn.disabled = false;
            submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }

        // Fonction pour fermer le modal
        function closeModal() {
            document.getElementById('registration-modal').classList.add('hidden');
            currentEventId = null;
        }

        // Fonction pour soumettre l'inscription
        function submitRegistration() {
            if (!publicKey || !currentEventId) {
                showMessage('Erreur: Portefeuille non connect√© ou √©v√©nement non s√©lectionn√©.', 'bg-red-600');
                return;
            }
            
            // Simuler une transaction d'inscription
            showTransactionLoader('Inscription √† l\'√©v√©nement en cours...');
            
            // Simuler un d√©lai de transaction
            setTimeout(() => {
                hideTransactionLoader();
                const address = publicKey.toBase58();
                showMessage(`Inscription confirm√©e ! Vous recevrez vos PCT apr√®s l'√©v√©nement sur ${address.substring(0, 6)}...`, 'bg-green-600');
                closeModal();
            }, 2500);
        }

        // Fonction pour afficher le loader de transaction
        function showTransactionLoader(message) {
            document.getElementById('transaction-message').textContent = message || 'Veuillez confirmer la transaction dans votre portefeuille.';
            document.getElementById('transaction-loader').classList.remove('hidden');
        }

        // Fonction pour cacher le loader de transaction
        function hideTransactionLoader() {
            document.getElementById('transaction-loader').classList.add('hidden');
        }

        // Fonction pour afficher un message
        function showMessage(message, bgColor) {
            const msgBox = document.getElementById('message-box');
            msgBox.textContent = message;
            msgBox.className = `fixed bottom-4 right-4 p-3 rounded-lg shadow-xl text-white transition-opacity duration-300 ${bgColor}`;
            msgBox.classList.remove('hidden');
            
            // Cacher le message apr√®s 5 secondes
            setTimeout(() => {
                msgBox.classList.add('hidden');
            }, 5000);
        }

        // Fermer le modal si on clique en dehors
        window.onclick = function(event) {
            const modal = document.getElementById('registration-modal');
            const loader = document.getElementById('transaction-loader');
            if (event.target === modal) {
                closeModal();
            }
            if (event.target === loader) {
                // Ne pas fermer le loader pendant une transaction
            }
        };
    </script>
</body>
</html>

